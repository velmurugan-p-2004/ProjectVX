{
  "timestamp": "2025-07-30T23:12:31.516526",
  "tests_run": 18,
  "failures": 0,
  "errors": 5,
  "skipped": 2,
  "success_rate": 72.22222222222221,
  "failure_details": [],
  "error_details": [
    {
      "test": "test_attendance_calculation (__main__.TestShiftManagement.test_attendance_calculation)",
      "error": "Traceback (most recent call last):\n  File \"R:\\PROJECTS\\staffongoingmohannew-updation\\test_system.py\", line 139, in setUp\n    self.shift_manager = ShiftManager()\n                         ^^^^^^^^^^^^^^\n  File \"R:\\PROJECTS\\staffongoingmohannew-updation\\shift_management.py\", line 21, in __init__\n    self.shift_definitions = self._load_shift_definitions()\n                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"R:\\PROJECTS\\staffongoingmohannew-updation\\shift_management.py\", line 25, in _load_shift_definitions\n    db = get_db()\n         ^^^^^^^^\n  File \"R:\\PROJECTS\\staffongoingmohannew-updation\\database.py\", line 9, in get_db\n    db = getattr(g, '_database', None)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Mohan raj\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\local.py\", line 311, in __get__\n    obj = instance._get_current_object()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Mohan raj\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\local.py\", line 508, in _get_current_object\n    raise RuntimeError(unbound_message) from None\nRuntimeError: Working outside of application context.\n\nThis typically means that you attempted to use functionality that needed\nthe current application. To solve this, set up an application context\nwith app.app_context(). See the documentation for more information.\n"
    },
    {
      "test": "test_shift_creation (__main__.TestShiftManagement.test_shift_creation)",
      "error": "Traceback (most recent call last):\n  File \"R:\\PROJECTS\\staffongoingmohannew-updation\\test_system.py\", line 139, in setUp\n    self.shift_manager = ShiftManager()\n                         ^^^^^^^^^^^^^^\n  File \"R:\\PROJECTS\\staffongoingmohannew-updation\\shift_management.py\", line 21, in __init__\n    self.shift_definitions = self._load_shift_definitions()\n                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"R:\\PROJECTS\\staffongoingmohannew-updation\\shift_management.py\", line 25, in _load_shift_definitions\n    db = get_db()\n         ^^^^^^^^\n  File \"R:\\PROJECTS\\staffongoingmohannew-updation\\database.py\", line 9, in get_db\n    db = getattr(g, '_database', None)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Mohan raj\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\local.py\", line 311, in __get__\n    obj = instance._get_current_object()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Mohan raj\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\local.py\", line 508, in _get_current_object\n    raise RuntimeError(unbound_message) from None\nRuntimeError: Working outside of application context.\n\nThis typically means that you attempted to use functionality that needed\nthe current application. To solve this, set up an application context\nwith app.app_context(). See the documentation for more information.\n"
    },
    {
      "test": "test_staff_id_generation (__main__.TestStaffManagement.test_staff_id_generation)",
      "error": "Traceback (most recent call last):\n  File \"R:\\PROJECTS\\staffongoingmohannew-updation\\test_system.py\", line 177, in test_staff_id_generation\n    with patch.object(self.staff_manager, '_get_next_sequence') as mock_seq:\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Program Files\\Python312\\Lib\\unittest\\mock.py\", line 1467, in __enter__\n    original, local = self.get_original()\n                      ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Program Files\\Python312\\Lib\\unittest\\mock.py\", line 1437, in get_original\n    raise AttributeError(\nAttributeError: <staff_management_enhanced.StaffManager object at 0x00000197BA616240> does not have the attribute '_get_next_sequence'\n"
    },
    {
      "test": "test_attendance_status_validation (__main__.TestAttendanceProcessing.test_attendance_status_validation)",
      "error": "Traceback (most recent call last):\n  File \"R:\\PROJECTS\\staffongoingmohannew-updation\\test_system.py\", line 200, in setUp\n    self.attendance_manager = AdvancedAttendanceManager()\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"R:\\PROJECTS\\staffongoingmohannew-updation\\attendance_advanced.py\", line 26, in __init__\n    self.shift_manager = ShiftManager()\n                         ^^^^^^^^^^^^^^\n  File \"R:\\PROJECTS\\staffongoingmohannew-updation\\shift_management.py\", line 21, in __init__\n    self.shift_definitions = self._load_shift_definitions()\n                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"R:\\PROJECTS\\staffongoingmohannew-updation\\shift_management.py\", line 25, in _load_shift_definitions\n    db = get_db()\n         ^^^^^^^^\n  File \"R:\\PROJECTS\\staffongoingmohannew-updation\\database.py\", line 9, in get_db\n    db = getattr(g, '_database', None)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Mohan raj\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\local.py\", line 311, in __get__\n    obj = instance._get_current_object()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Mohan raj\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\local.py\", line 508, in _get_current_object\n    raise RuntimeError(unbound_message) from None\nRuntimeError: Working outside of application context.\n\nThis typically means that you attempted to use functionality that needed\nthe current application. To solve this, set up an application context\nwith app.app_context(). See the documentation for more information.\n"
    },
    {
      "test": "test_overtime_calculation (__main__.TestAttendanceProcessing.test_overtime_calculation)",
      "error": "Traceback (most recent call last):\n  File \"R:\\PROJECTS\\staffongoingmohannew-updation\\test_system.py\", line 200, in setUp\n    self.attendance_manager = AdvancedAttendanceManager()\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"R:\\PROJECTS\\staffongoingmohannew-updation\\attendance_advanced.py\", line 26, in __init__\n    self.shift_manager = ShiftManager()\n                         ^^^^^^^^^^^^^^\n  File \"R:\\PROJECTS\\staffongoingmohannew-updation\\shift_management.py\", line 21, in __init__\n    self.shift_definitions = self._load_shift_definitions()\n                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"R:\\PROJECTS\\staffongoingmohannew-updation\\shift_management.py\", line 25, in _load_shift_definitions\n    db = get_db()\n         ^^^^^^^^\n  File \"R:\\PROJECTS\\staffongoingmohannew-updation\\database.py\", line 9, in get_db\n    db = getattr(g, '_database', None)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Mohan raj\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\local.py\", line 311, in __get__\n    obj = instance._get_current_object()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Mohan raj\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\local.py\", line 508, in _get_current_object\n    raise RuntimeError(unbound_message) from None\nRuntimeError: Working outside of application context.\n\nThis typically means that you attempted to use functionality that needed\nthe current application. To solve this, set up an application context\nwith app.app_context(). See the documentation for more information.\n"
    }
  ]
}